Sep-24 14:06:59.759 [main] DEBUG nextflow.cli.Launcher - $> nextflow run vpeddu/kube_prp_test --fastq TESTX_H7YRLADXX_S1_L001_R1_001.fastq.gz --krakendb minikraken2_v2_8GB_201904_UPDATE/ -with-docker 'ubuntu:18.04' -latest -resume
Sep-24 14:06:59.881 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 20.07.1
Sep-24 14:06:59.942 [main] INFO  nextflow.cli.CmdRun - Pulling vpeddu/kube_prp_test ...
Sep-24 14:06:59.945 [main] DEBUG nextflow.scm.RepositoryProvider - Request [credentials -:-] -> https://api.github.com/repos/vpeddu/kube_prp_test/contents/nextflow.config
Sep-24 14:07:01.836 [main] DEBUG nextflow.scm.RepositoryProvider - Request [credentials -:-] -> https://api.github.com/repos/vpeddu/kube_prp_test/contents/main.nf
Sep-24 14:07:02.174 [main] DEBUG nextflow.scm.RepositoryProvider - Request [credentials -:-] -> https://api.github.com/repos/vpeddu/kube_prp_test
Sep-24 14:07:02.352 [main] DEBUG nextflow.scm.AssetManager - Pulling vpeddu/kube_prp_test -- Using remote clone url: https://github.com/vpeddu/kube_prp_test.git
Sep-24 14:07:04.128 [main] INFO  nextflow.cli.CmdRun -  downloaded from https://github.com/vpeddu/kube_prp_test.git
Sep-24 14:07:04.183 [main] DEBUG nextflow.scm.AssetManager - Git config: /Users/vikas/.nextflow/assets/vpeddu/kube_prp_test/.git/config; branch: master; remote: origin; url: https://github.com/vpeddu/kube_prp_test.git
Sep-24 14:07:04.184 [main] INFO  nextflow.cli.CmdRun - Launching `vpeddu/kube_prp_test` [agitated_brahmagupta] - revision: 6bff15fb19 [master]
Sep-24 14:07:04.219 [main] DEBUG nextflow.config.ConfigBuilder - Found config base: /Users/vikas/.nextflow/assets/vpeddu/kube_prp_test/nextflow.config
Sep-24 14:07:04.220 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /Users/vikas/Downloads/bootcamp/kubetest/kube_prp_test/nextflow.config
Sep-24 14:07:04.222 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /Users/vikas/.nextflow/assets/vpeddu/kube_prp_test/nextflow.config
Sep-24 14:07:04.223 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /Users/vikas/Downloads/bootcamp/kubetest/kube_prp_test/nextflow.config
Sep-24 14:07:04.236 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Sep-24 14:07:04.279 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Sep-24 14:07:04.295 [main] WARN  nextflow.config.ConfigBuilder - It appears you have never run this project before -- Option `-resume` is ignored
Sep-24 14:07:04.304 [main] DEBUG nextflow.config.ConfigBuilder - Enabling execution in Docker container as requested by cli option `-with-docker ubuntu:18.04`
Sep-24 14:07:04.378 [main] DEBUG nextflow.Session - Session uuid: 6dd895d2-3ca2-45ee-9097-03c09c88675f
Sep-24 14:07:04.378 [main] DEBUG nextflow.Session - Run name: agitated_brahmagupta
Sep-24 14:07:04.379 [main] DEBUG nextflow.Session - Executor pool size: 8
Sep-24 14:07:04.614 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 20.07.1 build 5412
  Created: 24-07-2020 15:18 UTC (08:18 PDT)
  System: Mac OS X 10.15.6
  Runtime: Groovy 2.5.11 on Java HotSpot(TM) 64-Bit Server VM 1.8.0_144-b01
  Encoding: UTF-8 (UTF-8)
  Process: 48860@MacBook-Pro-2.local [127.0.0.1]
  CPUs: 8 - Mem: 16 GB (36.3 MB) - Swap: 5 GB (1.1 GB)
Sep-24 14:07:04.636 [main] DEBUG nextflow.Session - Work-dir: /Users/vikas/Downloads/bootcamp/kubetest/kube_prp_test/work [Mac OS X]
Sep-24 14:07:04.637 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /Users/vikas/.nextflow/assets/vpeddu/kube_prp_test/bin
Sep-24 14:07:04.748 [main] DEBUG nextflow.Session - Observer factory: TowerFactory
Sep-24 14:07:04.750 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Sep-24 14:07:05.070 [main] DEBUG nextflow.Session - Session start invoked
Sep-24 14:07:05.389 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Sep-24 14:07:05.400 [main] DEBUG nextflow.Session - Workflow process names [dsl1]: Kraken
Sep-24 14:07:05.491 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-24 14:07:05.491 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-24 14:07:05.498 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Sep-24 14:07:05.507 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=8; memory=16 GB; capacity=8; pollInterval=100ms; dumpInterval=5m
Sep-24 14:07:05.672 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Sep-24 14:07:05.672 [main] DEBUG nextflow.Session - Session await
Sep-24 14:07:05.790 [Actor Thread 3] DEBUG nextflow.util.CacheHelper - Unable to get file attributes file: /Users/vikas/Downloads/bootcamp/kubetest/kube_prp_test/minikraken2_v2_8GB_201904_UPDATE -- Cause: java.nio.file.NoSuchFileException: /Users/vikas/Downloads/bootcamp/kubetest/kube_prp_test/minikraken2_v2_8GB_201904_UPDATE
Sep-24 14:07:05.792 [Actor Thread 3] DEBUG nextflow.util.CacheHelper - Unable to get file attributes file: /Users/vikas/Downloads/bootcamp/kubetest/kube_prp_test/TESTX_H7YRLADXX_S1_L001_R1_001.fastq.gz -- Cause: java.nio.file.NoSuchFileException: /Users/vikas/Downloads/bootcamp/kubetest/kube_prp_test/TESTX_H7YRLADXX_S1_L001_R1_001.fastq.gz
Sep-24 14:07:05.922 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Sep-24 14:07:05.929 [Task submitter] INFO  nextflow.Session - [e5/bde6f4] Submitted process > Kraken
Sep-24 14:07:07.623 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: Kraken; status: COMPLETED; exit: 0; error: -; workDir: /Users/vikas/Downloads/bootcamp/kubetest/kube_prp_test/work/e5/bde6f448b1741e37014fdb4f7b31d8]
Sep-24 14:07:07.626 [Task monitor] DEBUG nextflow.processor.TaskProcessor - Process `Kraken` is unable to find [UnixPath]: `/Users/vikas/Downloads/bootcamp/kubetest/kube_prp_test/work/e5/bde6f448b1741e37014fdb4f7b31d8/classified.fastq` (pattern: `classified.fastq`)
Sep-24 14:07:07.818 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'Kraken'

Caused by:
  Missing output file(s) `classified.fastq` expected by process `Kraken`

Command executed:

  #!/bin/bash
  
  echo "kraken running"
  kraken2 --db minikraken2_v2_8GB_201904_UPDATE --threads 2 TESTX_H7YRLADXX_S1_L001_R1_001.fastq.gz --quick     --classified-out classified.fastq --unclassified-out unclassified.fastq     --gzip-compressed --report kraken_report.tsv --use-names
  
  echo "kraken finished. Logging ls"
  ls -latr

Command exit status:
  0

Command output:
  kraken running
  kraken finished. Logging ls
  total 20
  lrwxr-xr-x  1 root root   87 Sep 24 21:07 minikraken2_v2_8GB_201904_UPDATE -> /Users/vikas/Downloads/bootcamp/kubetest/kube_prp_test/minikraken2_v2_8GB_201904_UPDATE
  lrwxr-xr-x  1 root root   94 Sep 24 21:07 TESTX_H7YRLADXX_S1_L001_R1_001.fastq.gz -> /Users/vikas/Downloads/bootcamp/kubetest/kube_prp_test/TESTX_H7YRLADXX_S1_L001_R1_001.fastq.gz
  -rw-r--r--  1 root root  323 Sep 24 21:07 .command.sh
  -rw-r--r--  1 root root 3316 Sep 24 21:07 .command.run
  -rw-r--r--  1 root root    0 Sep 24 21:07 .command.begin
  drwxr-xr-x  3 root root   96 Sep 24 21:07 ..
  drwxr-xr-x 10 root root  320 Sep 24 21:07 .
  -rw-r--r--  1 root root   43 Sep 24 21:07 .command.out
  -rw-r--r--  1 root root  132 Sep 24 21:07 .command.log
  -rw-r--r--  1 root root   89 Sep 24 21:07 .command.err

Command error:
  kraken2: unable to find minikraken2_v2_8GB_201904_UPDATE in $KRAKEN2_DB_PATH (undefined)

Work dir:
  /Users/vikas/Downloads/bootcamp/kubetest/kube_prp_test/work/e5/bde6f448b1741e37014fdb4f7b31d8

Tip: when you have fixed the problem you can continue the execution adding the option `-resume` to the run command line
Sep-24 14:07:07.834 [main] DEBUG nextflow.Session - Session await > all process finished
Sep-24 14:07:07.834 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Missing output file(s) `classified.fastq` expected by process `Kraken`
Sep-24 14:07:07.905 [main] DEBUG nextflow.Session - Session await > all barriers passed
Sep-24 14:07:07.925 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=3.2s; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=2; peakMemory=7 GB; ]
Sep-24 14:07:08.067 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
Sep-24 14:07:08.085 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
